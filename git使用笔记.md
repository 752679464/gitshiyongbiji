# 1. 版本控制的逻辑

## 1.1 Svn与Git
- SVN，是集中式版本控制系统，版本库是集中放在中央服务器的，而干活的时候，用的都是自己的电脑，所以首先要从中央服务器哪里得到最新的版本，然后干活，干完后，需要把自己做完的活推送到中央服务器。
- Git，分布式版本控制系统，那么它就没有中央服务器的，每个人的电脑就是一个完整的版本库，这样，工作的时候就不需要联网了，因为版本都是在自己的电脑上。

## 1.2 Git工作流程
一般工作流程如下：
1．从远程仓库中**克隆** Git 资源作为本地仓库。
2．从本地仓库中checkout代码然后进行代码修改
3．在提交前先将代码提交到**暂存区**。
4．提交修改。就是提交到**本地仓库**。本地仓库中保存修改的各个历史版本。
5．在修改完成后，需要和团队成员共享代码时，可以将代码push到远程仓库。
下图展示了 Git 的工作流程：

![.](D:\Desktop\git的使用笔记\截图\1.1.jpg)

- 要实现版本管理，远程仓库不是必须的。仅有本地仓库可以实现版本管理，但为了防止个人计算机出现故障，导致数据丢失，故建议每次重大修改都提交到远程仓库。另外团队协作时必须使用远程仓库。
- 要使用版本管理，就需要搭建环境：安装git.exe。但由于其比较难以使用，推荐安装辅助工具TortoiseGit.exe，该工具提供了更多功能，且有汉化。注意该辅助工具是依赖于（基于）git.exe的，故必须先安装Git后安装TortoiseGit，且在TortoiseGit中进行依赖配置。




# 2. git的基本概念

## 2.1 工作区 
	工作区（Working Directory），就是一个特殊的文件夹，这个文件夹除了含有若干子文件夹，还含有“.git”隐藏文件夹。若工作区中的这些子文件（夹）被Git所管理（添加），则这些文件（夹）的内容的变动都会被Git记录到暂存区，成为一个“准版本”。若工作区中的子文件（夹）没有被添加，则无法记录这些文件的变动。

## 2.2 版本库
	版本库（repository），即仓库，就是“.git”隐藏文件夹。要创建一个仓库，就是生成一个“.git”隐藏文件夹。哪个文件夹包含了“.git”，则哪个文件夹就被管理，这个被管理的文件夹也叫工作区。

## 2.3 暂存区
	暂存区（stage），是版本库生成的一个文件。暂存区记录了工作区所有内容的变动。注意暂存区不是一个版本，而是一个“准版本”，只有提交后才变成一个新的版本。暂存区存在的意义就是决定一个新版本有多少新内容。

## 2.4 添加与提交
添加（add）：是工作区和版本库交互的一个操作，该操作将所有变动由工作区添加到暂存区。工作区**新的文件（夹）必须先添加到版本库，才能使得这些文件（夹）受到版本控制**，即Git才能监控这些新文件（夹）的变化。新文件（夹）只需添加一次即可被Git监控。
提交（commit）：是版本库内部的一个操作，将暂存区所有内容提交当前分支。**每提交一次，就在当前操作的分支生成一个版本**。若提交次数多，则新版本数多，但每个新版本修改的内容少。反之，若提交次数少，则新版本数少，但每个新版本修改的内容多。

## 2.5 分支
	主分支（master），就是第一个分支，由Git生成的一个分支。可以新建其他分支并切换到其他分支，各个分支互不影响。

## 2.6 指针HEAD
	指针HEAD，是版本库生成的一个文件。HEAD指向当前操作的分支

# 3. 相关工具
## 1.1  软件安装
### 1.1.1   安装git for windows

![img](file:///D:\Desktop\git的使用笔记\截图\clip_image002.jpg)

![img](file:///D:\Desktop\git的使用笔记\截图\clip_image004.jpg)

一路“下一步”使用默认选项即可。

### 1.1.2   安装TortoiseGit

![img](file:///D:\Desktop\git的使用笔记\截图\clip_image006.jpg)

![img](file:///D:\Desktop\git的使用笔记\截图\clip_image008.jpg)

一路“下一步”使用默认选项即可。

默认选项下会启动配置画面：

![img](file:///D:\Desktop\git的使用笔记\截图\clip_image010.jpg)

由于目前只有英文语言包，默认即可继续下一步。

配置git.exe，在4.2.1中已经安装过git-for-windows了所以在此找到git.exe所在的目录。

![img](file:///D:\Desktop\git的使用笔记\截图\clip_image012.jpg)

配置开发者姓名及邮箱，每次提交代码时都会把此信息包含到提交的信息中。

![img](file:///D:\Desktop\git的使用笔记\截图\clip_image014.jpg)

![img](file:///D:\Desktop\git的使用笔记\截图\clip_image016.jpg)

使用默认配置，点击“完成”按钮完成配置。

完整完毕后在系统右键菜单中会出现git的菜单项。

![img](file:///C:\Users\pjb\AppData\Local\Temp\msohtmlclip1\01\clip_image017.gif)![img](file:///D:\Desktop\git的使用笔记\截图\clip_image019.jpg)

### 1.1.3   安装中文语言包

安装中文语言包并不是必选项。可以根据个人情况来选择安装。

![img](file:///D:\Desktop\git的使用笔记\截图\clip_image021.jpg)

![img](file:///D:\Desktop\git的使用笔记\截图\clip_image023.jpg)

直接“下一步”完整完毕。

语言包安装完毕后可以在TortoiseGit的设置中调整语言

![img](file:///D:\Desktop\git的使用笔记\截图\clip_image025.jpg)



# 4. git推送

推送：将本地工程推送到本地管理或远程管理，形成一个新的版本。

## 4.1 本地版本管理

1. 创建本地版本库：在工作目录中，使用TortoiseGit点击右键菜单选择“在这里创建版本库”
2. 添加文件（夹）：在工作目录中，使用TortoiseGit右键点击右键菜单选择“添加”。将需要进行版本控制的文件（夹）添加到暂存区中，以对其进行监控。
2. 提交：在工作目录中，使用TortoiseGit右键点击右键菜单选择“提交”，注意提交的分支。则新的版本就生成了
## 4.2 远程版本管理（推送）
- 要实现“远程版本管理”必须先完成“本地版本管理”。
### 4.2.1 未使用IDE
- 用于普通文件的版本管理
1. 在github上创建仓库：登录，点击“New repository”，输入仓库名称，点击“Create repository”
2. 复制https或shh：如果使用https很简单基本不需要配置就可以使用，但是每次提交代码和下载代码时都需要输入用户名和密码。如果使用ssh方式就需要客户端先生成一个密钥对，即一个公钥一个私钥。然后还需要把公钥放到githib的服务器上。

### 4.2.2 使用Idea集成开发工具推送
- 用于对程序的版本管理
1. 在idea中创建一个工程
2. 创建本地仓库：在Idea的菜单中选择“vcs”→Import into Version Control→Create Git Repository。应选择工程目录的上一级目录为工作目录
3. 将工程添加至本地仓库：commit按钮，选中需要监控的工程（本工程），并点击“+”以添加监控。
4. 在github上创建远程仓库：在Web中，登录，点击“New repository”，输入仓库名称，点击“Create repository”
5. 复制https：在Web中，仓库地址
6. 推送到远程：在Idea的菜单中选择vcs→git→push，点击Define remote，粘贴刚才复制的地址到URL，点击“Push”。默认推送到master，若项目并非由老版本修改而来，则拒绝推送。若改为其他名字，则表示新建一个该名字的分支并推送到该分支，这种方式不会拒绝推送。




# 5. git克隆
- 克隆：从远程仓库下载工程到本地进行开发
## 5.1 使用Idea集成开发工具克隆
1. 打开Web，登录Github，找到想要下载的项目并复制其https地址，备用。

2. 关闭原来的idea工程，在idea的欢迎页上有“Check out from version control”下拉框，选择git

3. 变更“Auth Type”为“Password”：使用密码登录github

4. 在URL处填写之前复制的https地址，并点击Test，若没问题，则修改项目保存地址，修改目录名字

5. 点击Clone 

- 默认克隆的是master，如需打开某分支，则需依次点击右下角“Git：master”，点击“Remote Branches（远端分支）”，点击需要打开的分支


## 5.2 普通克隆


